use num_enum::{IntoPrimitive, TryFromPrimitive};
use strum_macros::EnumIter;

#[repr(i32)]
#[derive(IntoPrimitive, TryFromPrimitive, Debug, Copy, Clone, PartialEq, Eq, Hash, EnumIter)]
pub enum ScriptOpcode {
    // Core language ops (0-99)
    PUSH_CONSTANT_INT = 0,
    PUSH_VARP = 1,
    POP_VARP = 2,
    PUSH_CONSTANT_STRING = 3,
    PUSH_VARN = 4,
    POP_VARN = 5,
    BRANCH = 6,
    BRANCH_NOT = 7,
    BRANCH_EQUALS = 8,
    BRANCH_LESS_THAN = 9,
    BRANCH_GREATER_THAN = 10,
    PUSH_VARS = 11,
    POP_VARS = 12,
    RETURN = 21,
    GOSUB = 22,
    JUMP = 23,
    SWITCH = 24,
    PUSH_VARBIT = 25,
    POP_VARBIT = 27,
    BRANCH_LESS_THAN_OR_EQUALS = 31,
    BRANCH_GREATER_THAN_OR_EQUALS = 32,
    PUSH_INT_LOCAL = 33,
    POP_INT_LOCAL = 34,
    PUSH_STRING_LOCAL = 35,
    POP_STRING_LOCAL = 36,
    JOIN_STRING = 37,
    POP_INT_DISCARD = 38,
    POP_STRING_DISCARD = 39,
    GOSUB_WITH_PARAMS = 40,
    JUMP_WITH_PARAMS = 41,
    PUSH_VARC_INT = 42,
    POP_VARC_INT = 43,
    DEFINE_ARRAY = 44,
    PUSH_ARRAY_INT = 45,
    POP_ARRAY_INT = 46,

    // Server ops (1000-1999)
    COORDX = 10000,
    COORDY = 1001,
    COORDZ = 1002,
    DISTANCE = 1003,
    HUNTALL = 1004,
    HUNTNEXT = 1005,
    INZONE = 1006,
    LINEOFSIGHT = 1007,
    LINEOFWALK = 1008,
    MAP_BLOCKED = 1009,
    MAP_INDOORS = 1010,
    MAP_CLOCK = 1011,
    MAP_LOCADDUNSAFE = 1012,
    MAP_MEMBERS = 1013,
    MAP_PLAYERCOUNT = 1014,
    MAP_FINDSQUARE = 1015,
    MOVECOORD = 1016,
    PLAYERCOUNT = 1017,
    PROJANIM_MAP = 1018,
    PROJANIM_NPC = 1019,
    PROJANIM_PL = 1020,
    SEQLENGTH = 1021,
    SPLIT_GET = 1022,
    SPLIT_INIT = 1023,
    SPLIT_LINECOUNT = 1024,
    SPLIT_PAGECOUNT = 1025,
    SPOTANIM_MAP = 1026,
    STAT_RANDOM = 1027,
    STRUCT_PARAM = 1028,
    WORLD_DELAY = 1029,
    NPCCOUNT = 1030,
    ZONECOUNT = 1031,
    LOCCOUNT = 1032,
    OBJCOUNT = 1033,
    MAP_MULTIWAY = 1034,

    // Player ops (2000-2499)
    ALLOWDESIGN = 2000,
    ANIM = 2001,
    BAS_READYANIM = 2002,
    BAS_RUNNING = 2003,
    BAS_TURNONSPOT = 2004,
    BAS_WALK_B = 2005,
    BAS_WALK_F = 2006,
    BAS_WALK_L = 2007,
    BAS_WALK_R = 2008,
    BUFFER_FULL = 2009,
    BUILDAPPEARANCE = 2010,
    BUSY = 2011,
    CAM_LOOKAT = 2012,
    CAM_MOVETO = 2013,
    CAM_RESET = 2014,
    CAM_SHAKE = 2015,
    CLEARQUEUE = 2016,
    CLEARSOFTTIME = 2017,
    CLEARTIMER = 2018,
    GETTIMER = 2019,
    COORD = 2020,
    DAMAGE = 2021,
    DISPLAYNAME = 2022,
    FACESQUARE = 2023,
    FINDUID = 2024,
    GENDER = 2025,
    GETQUEUE = 2026,
    STAT_ADVANCE = 2027,
    HEADICONS_GET = 2028,
    HEADICONS_SET = 2029,
    HEALENERGY = 2030,
    HINT_COORD = 2031,
    HINT_NPC = 2032,
    HINT_PLAYER = 2033,
    HINT_STOP = 2034,
    IF_CLOSE = 2035,
    TUT_CLOSE = 2036,
    IF_MULTIZONE = 2037,
    IF_OPENCHAT = 2038,
    TUT_OPEN = 2039,
    IF_OPENMAIN = 2040,
    IF_OPENOVERLAY = 2041,
    IF_OPENSIDE = 2042,
    IF_SETANIM = 2043,
    IF_SETCOLOUR = 2044,
    IF_SETHIDE = 2045,
    IF_SETMODEL = 2046,
    IF_SETRECOL = 2047,
    IF_SETNPCHEAD = 2048,
    IF_SETOBJECT = 2049,
    IF_SETPLAYERHEAD = 2050,
    IF_SETPOSITION = 2051,
    IF_SETRESUMEBUTTONS = 2052,
    IF_SETTAB = 2053,
    IF_SETTABACTIVE = 2054,
    TUT_FLASH = 2055,
    IF_SETTEXT = 2056,
    LAST_LOGIN_INFO = 2057,
    LAST_COM = 2058,
    LAST_INT = 2059,
    LAST_ITEM = 2060,
    LAST_SLOT = 2061,
    LAST_TARGETSLOT = 2062,
    LAST_USEITEM = 2063,
    LAST_USESLOT = 2064,
    LONGQUEUE = 2065,
    MES = 1000,
    
    // Enum ops (4400-4499)
    ENUM = 4400,
    ENUM_GETOUTPUTCOUNT,
    
    // Math ops (4600-4699)
    ADD = 400,
    SUB,
    MULTIPLY,
    DIVIDE,
    RANDOM,
    RANDOMINC,
    INTERPOLATE,
    ADDPERCENT,
    SETBIT,
    CLEARBIT,
    TESTBIT,
    MODULO,
    POW,
    INVPOW,
    AND,
    OR,
    MIN,
    MAX,
    SCALE,
    BITCOUNT,
    TOGGLEBIT,
    SETBIT_RANGE,
    CLEARBIT_RANGE,
    GETBIT_RANGE,
    SETBIT_RANGE_TOINT,
    SIN_DEG,
    COS_DEG,
    ATAN2_DEG,
    ABS
}